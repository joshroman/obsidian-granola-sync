#!/bin/sh
echo "ğŸ” Running integration verification..."

# MANDATORY: Build must work
echo "ğŸ“¦ Building plugin..."
npm run build || exit 1

# MANDATORY: TypeScript check
echo "ğŸ” Checking TypeScript..."
npm run typecheck || exit 1

# MANDATORY: Integration tests must pass  
echo "ğŸ§ª Running integration verification tests..."
npm run test:integration-verify || exit 1

# MANDATORY: Visual smoke test
echo "ğŸ“¸ Running visual smoke tests..."
npm run test:visual-smoke || exit 1

echo "âœ… All integration checks passed - commit allowed"
